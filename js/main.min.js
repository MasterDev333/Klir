"use strict";$(document).ready(function(){var a,e=$(window).width(),t=!1,n=$(".page-header"),o=!0;$(".shop_table .button.suspend").html("Pause"),console.log("start"),window.location.href.includes("?reset-link-sent=true")&&(localStorage.setItem("account","true"),s=(s=window.location.href.split("/"))[0]+"/"+s[1]+"/"+s[2]+"/"+s[3],window.location.href=s),"true"==localStorage.getItem("account")&&$(".u-column1").prepend('<p style="font-family: founders-grotesk-web-regular; margin-bottom: 20px;">We\'ve sent you an email with a link to update your password.</p>'),window.location.href.includes("?reset-link-sent=true")||(localStorage.setItem("account","false"),localStorage.setItem("account","false")),-1!=navigator.userAgent.indexOf("Mac OS X")?$("body").addClass("mac"):$("body").addClass("pc");var s=.01*window.innerHeight;function i(){var t;$(document).height()>$(window).height()&&(t=($("html").scrollTop()?$("html"):$("body")).scrollTop(),$("html").addClass("disable-scrolling").css("top",-t))}function r(){var t=parseInt($("html").css("top"),10);$("html").removeClass("disable-scrolling"),$("html,body").scrollTop(-t)}document.documentElement.style.setProperty("--vh","".concat(s,"px")),window.addEventListener("resize",function(){var t=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(t,"px")),setTimeout(function(){var t=.01*window.innerHeight;$(".cart-fly").css("height","".concat(100*t,"px"))},700)}),"open"==localStorage.getItem("cart")&&(i(),$(".cart-fly").addClass("active"),localStorage.setItem("cart","close"),$("html, body").click(function(t){$(t.target).parents().hasClass("cart-fly")||$(t.target).hasClass("js-open-cart")||($(".cart-fly").removeClass("active"),$(".header").css("top","28px"),$(".header").removeClass("active"),r(),$("html, body").unbind())})),localStorage.getItem("cart","open"),document.querySelectorAll('a[href^="#"]').forEach(function(t){t.addEventListener("click",function(t){t.preventDefault(),document.querySelector(this.getAttribute("href")).scrollIntoView({behavior:"smooth"})})}),"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype||(o=!1,$("html").removeClass("is-observer")),o&&(a=new IntersectionObserver(function(t){t.forEach(function(t){t.isIntersecting&&(t.target.classList.add("is-visible"),a.unobserve(t.target))})},{rootMargin:"0px 0px -15% 0px"})),function(){var t=" -webkit- -moz- -o- -ms- ".split(" ");if("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)return 1;t=["(",t.join("touch-enabled),("),"heartz",")"].join("");return window.matchMedia(t).matches}()&&$("html").addClass("is-touch");var c,d,l,u,h,p,m,f,v,w,g,b,y,_,C,x,j,k,T,q,E,s=function(a,n,o){for(var s,t=arguments.length,i=new Array(3<t?t-3:0),e=3;e<t;e++)i[e-3]=arguments[e];return function(){var t=this,e=o&&!s;clearTimeout(s),s=setTimeout(function(){s=null,o||a.apply(t,i)},n),e&&a.apply(t,i)}}(function(){var t=$(window).width();D(),$(".header__mobile").removeClass("active"),$(".page-banner").css({"background-color":"#00205C"}),$(".page-banner p").css({color:"white"}),e!==t&&(e=t)},500);function S(){var t=$(".js-duo-btn-select");$(window).width()<768&&t.each(function(){$(this).hasClass("active")?$(this).hide():$(this).show()}),t.on("click",function(){t.each(function(){$(this).removeClass("active")}),$(this).addClass("active"),"levelup"==$(this).attr("data-duo-select")?($(".page-wrap").removeClass("page-wrap--dark"),$(".unwind-data").hide(),$(".level-up-data").show()):($(".page-wrap").addClass("page-wrap--dark"),$(".unwind-data").show(),$(".level-up-data").hide()),$(window).width()<768&&t.each(function(){$(this).hasClass("active")?$(this).hide():$(this).show()})})}function I(){i(),localStorage.setItem("cart","open"),location.reload(!0)}function D(){$(".track").css("transition","0s"),$(".track").css("transform","translateX(0%)"),setTimeout(function(){$(".track").css("transition","83s"),$(".track").css("transform","translateX(-100%)")},100);window.setInterval(function(){$(".track").css("transition","0s"),$(".track").css("transform","translateX(0%)"),setTimeout(function(){$(".track").css("transition","83s"),$(".track").css("transform","translateX(-100%)")},100)},6e4)}function G(t,e){$.ajax({type:"GET",url:t,dataType:"html"}).then(function(){return $.ajax({type:"GET",url:e,dataType:"html"})}).then(I)}function M(t,e,a){$.ajax({type:"GET",url:t,dataType:"html"}).then(function(){return $.ajax({type:"GET",url:e,dataType:"html"})}).then(function(){return $.ajax({type:"GET",url:$(".js-unwind-remove").attr("href"),dataType:"html"})}).then(function(){return $.ajax({type:"GET",url:a,dataType:"html"})}).then(I)}$(".hamburger").on("click",function(){t?(n.removeClass("is-opened"),r()):(n.addClass("is-opened"),i()),t=!t}),document.body.addEventListener("mousedown",function(){document.body.classList.remove("is-tab")}),document.body.addEventListener("keydown",function(t){"Tab"===t.key&&document.body.classList.add("is-tab")}),c=$(".page-banner__inner p"),d=c.length,l=0,u=parseFloat(1e3*$(".page-banner").attr("data-time")),c.first().addClass("active"),setInterval(function(){d-2<l?(c.first().addClass("active"),c.eq(l).removeClass("active"),l=0):(l++,c.eq(l-1).removeClass("active"),c.eq(l).addClass("active"))},u),function(){var t=$(".header__hamburger"),e=$(".header__mobile"),a=$(".header"),n=$(".header__nav");$(".js-close-mobile-menu").on("click",function(){$(".header__mobile").removeClass("active"),r(),$(".page-banner").css({"background-color":"#00205C"}),$(".page-banner p").css({color:"white"})}),t.on("click",function(){e.addClass("active"),i(),$(".page-banner").css({"background-color":"white"}),$(".page-banner p").css({color:"#00205C"})});var o=0;$(window).scroll(function(t){var e=$(this).scrollTop();$("html").hasClass("disable-scrolling")||(10<e?1e3<$(window).width()&&a.addClass("active"):a.removeClass("active"),$(".header").css("top","28px"),o<e?(n.removeClass("active"),$(".animated-border--desktop-only").css("opacity","0")):1024<$(window).width()&&(n.addClass("active"),$(".animated-border--desktop-only").delay(800).css("opacity","1")),o=e)})}(),h=$(".featured-products__right"),p=$(".featured-products__left"),h.on("mouseenter",function(){$(this).find(".featured-products__image-hidden").length&&($(this).find(".featured-products__image-show").hide(),$(this).find(".featured-products__image-hidden").show())}),h.on("mouseleave",function(){$(this).find(".featured-products__image-show").show(),$(this).find(".featured-products__image-hidden").hide()}),p.on("mouseenter",function(){$(this).find(".featured-products__image-hidden").length&&($(this).find(".featured-products__image-show").hide(),$(this).find(".featured-products__image-hidden").show())}),p.on("mouseleave",function(){$(this).find(".featured-products__image-show").show(),$(this).find(".featured-products__image-hidden").hide()}),m=$(".product-main__ingredients-title"),f=$(".product-main__exerpt"),v=$(".complete-the-set__copy--mobile"),$(window).width()<1204&&(v.find("h4").each(function(){$(this).hide()}),v.append('<h4><span style="font-family: founders-grotesk-web-medium;">30 Day Supply</span> <span style="font-family: founders-grotesk-web-regular;">&nbsp; &nbsp; 60 Vegan Capsules</span></h4>'),f.find("h2").each(function(){$(this).hide()}),f.prepend('<h2><span style="font-family: founders-grotesk-web-medium;">30 Day Supply</span> <span style="font-family: founders-grotesk-web-regular;">&nbsp; &nbsp; 60 Vegan Capsules</span></h2>')),m.on("click",function(){$(".product-main__ingredients-hidden").hasClass("active")?($(".product-main__ingredients-hidden").removeClass("active"),$(".product-main__ingredients-title svg").removeClass("active")):($(".product-main__ingredients-hidden").addClass("active"),$(".product-main__ingredients-title svg").addClass("active"))}),new Swiper(".product-main__left",{loop:!0,slidesPerView:1,effect:"fade",fadeEffect:{crossFade:!0},navigation:{prevEl:".product-main .left",nextEl:".product-main .right"},pagination:{el:".swiper-pagination",type:"bullets",clickable:!0}}).slides.length<4&&($(".product-main__nav").hide(),$(".swiper-pagination").hide()),w=$(".product-extra__right-grid").height(),g=$(".product-extra__accordian-title"),1023<$(window).width()&&g.each(function(){$(this).css("height","".concat(w/3-.65,"px"))}),g.on("click",function(){$(this).parent().find(".product-extra__accordian-hidden").hasClass("active")?($(this).parent().find(".product-extra__accordian-hidden").removeClass("active"),$(this).parent().find(".product-extra__accordian-title svg").removeClass("active")):(g.each(function(){$(this).parent().find(".product-extra__accordian-hidden").removeClass("active"),$(this).parent().find(".product-extra__accordian-title svg").removeClass("active")}),$(this).parent().find(".product-extra__accordian-hidden").addClass("active"),$(this).parent().find(".product-extra__accordian-title svg").addClass("active"),self=this,setTimeout(function(){$("body, html").animate({scrollTop:$($(self).parent().find(".product-extra__accordian-title")).offset().top-200})},400))}),S(),b=$(".add-to-cart-form"),$(".btn-add-to-cart").on("click",function(t){i(),t.preventDefault();var e=!1;$(this).hasClass("duo")&&(e=$(this).attr("duo-data")),$.ajax({type:"GET",url:$(this).attr("data-href"),dataType:"html",success:function(t){},complete:function(){e?$.ajax({type:"GET",url:e,dataType:"html",success:function(t){},complete:function(){i(),localStorage.setItem("cart","open"),location.reload(!0)}}):(i(),localStorage.setItem("cart","open"),location.reload(!0))}})}),$(".subscription-btn").on("mouseenter",function(){$(this).parent().find(".add-to-cart-form__hidden-sub-info").addClass("active")}),$(".subscription-btn").on("mouseleave",function(){$(this).parent().find(".add-to-cart-form__hidden-sub-info").removeClass("active")}),b.each(function(){var e=$(this).find(".subscription-btn"),a=$(this).find(".onetime-btn");a.on("click",function(t){t.preventDefault(),$(this).hasClass("ontime-btn-bundle")&&$(this).parent().parent().find(".btn-add-to-cart").attr("duo-data",$(this).attr("data-unwind-url")),$(this).parent().parent().find(".btn-add-to-cart").attr("data-href",$(this).attr("data-one-time")),$(this).addClass("active"),e.removeClass("active"),$(this).parent().parent().find(".btn-add-to-cart").text("ADD TO CART")}),e.on("click",function(t){t.preventDefault(),$(this).hasClass("subscription-btn-bundle")&&$(this).parent().parent().find(".btn-add-to-cart").attr("duo-data",$(this).attr("data-unwind-url")),$(this).parent().parent().find(".btn-add-to-cart").attr("data-href",$(this).attr("data-subscription-attr")),$(this).addClass("active"),a.removeClass("active"),$(this).parent().parent().find(".btn-add-to-cart").text("SUBSCRIBE")})}),$(".page-hero__scroll button").on("click",function(){var t=$(".sustainability-logos").position().top-50;$("html, body").animate({scrollTop:t},500)}),y=$(".js-faq-link"),_=$(".js-contact-link"),y.on("click",function(){var t=$(".faqs__inner h4").position().top;$("html, body").animate({scrollTop:t},500)}),_.on("click",function(){var t=$(".contact").position().top-74;$("html, body").animate({scrollTop:t},500)}),$(".js-shop").on("click",function(){$(".cart-fly").removeClass("active"),$(".shop-fly").addClass("active"),i(),$(".header").css("top","28px"),$("html, body").click(function(t){$(t.target).parents().hasClass("shop-fly")||$(t.target).parents().hasClass("js-shop")||$(t.target).hasClass("js-shop")||($(".shop-fly").removeClass("active"),$(".header").css("top","28px"),$(".header").removeClass("active"),r(),$("html, body").unbind())})}),$(".shop-fly__close").on("click",function(){$(".shop-fly").removeClass("active"),$(".header").css("top","28px"),$(".header").removeClass("active"),r(),$("html, body").unbind()}),C=$(".js-open-cart"),$(".js-close-cart").on("click",function(){$(".cart-fly").removeClass("active"),$(".header").css("top","28px"),$(".header").removeClass("active"),r(),$("html, body").unbind()}),C.on("click",function(){$(".shop-fly").removeClass("active"),$(".cart-fly").addClass("active"),i(),$(".header").css("top","28px"),$(window).width(),$("html, body").click(function(t){$(t.target).parents().hasClass("cart-fly")||$(t.target).hasClass("js-open-cart")||($(".cart-fly").removeClass("active"),$(".header").css("top","28px"),$(".header").removeClass("active"),r(),$("html, body").unbind())})}),$(".cart-fly__close").on("click",function(){$(".cart-fly").removeClass("active"),$(".header").css("top","28px"),$(".header").removeClass("active"),r(),$("html, body").unbind()}),$(".remove-item").click(function(t){i(),t.preventDefault();var e=!1;$(this).hasClass("level-up-remove")&&(e=$(".js-unwind-remove").attr("href")),$.ajax({type:"GET",url:$(this).attr("href"),dataType:"html",success:function(t){},complete:function(){e?$.ajax({type:"GET",url:e,dataType:"html",success:function(t){},complete:function(){I()}}):(i(),localStorage.setItem("cart","open"),location.reload(!0))}})}),x=!1,$(".js-upgrade").click(function(t){i(),$(this).hasClass("level-up-upgrade")&&(x=!0),t.preventDefault();var e=$(this).attr("data-subscribe"),a=$(this).parent().find(".remove-item").attr("href");function n(){return $.ajax({type:"GET",url:a,dataType:"html"})}function o(){return $.ajax({type:"GET",url:e,dataType:"html"})}(x?n().then(o).then(function(){return $.ajax({type:"GET",url:$(".js-unwind-remove").attr("href"),dataType:"html"})}).then(function(){return $.ajax({type:"GET",url:$(".js-unwind-upgrade").attr("data-subscribe"),dataType:"html"})}):n().then(o)).then(I)}),j=$(".blog-list__menu li"),(k=$(".blog-list__item")).each(function(){$(this).addClass("is-visible")}),j.length&&(document.querySelector("#blog-list__inner"),j.on("click",function(){var n=$(this).attr("data-category");j.each(function(){$(this).removeClass("active")}),$(this).addClass("active"),"All"==n?k.each(function(){$(this).fadeIn(),$(this).addClass("is-visible")}):k.each(function(){$(this).attr("data-category");var t=n.replace(/ /g,""),e=$(this).attr("data-category").replace(/ /g,"").split("|"),a=this;$(this).hide(),$(this).addClass("is-visible"),$(e).each(function(){this.includes(t)&&$(a).fadeIn()})})})),$(".woocommerce-form-coupon p").first().text("If you have a discount code, please apply it below."),window.location.href.includes("checkout")&&($(".header").removeClass("active"),$(".header__nav").removeClass("active"),$(".animated-border").css({"background-color":"white"}),$(".header__logo svg").css({height:"40px"}),$(".header").css({height:"75px"}),$(window).width()<1024?$(".page-wrap").css({"padding-top":"107px"}):$(".page-wrap").css({"padding-top":"102px"}),$(window).on("scroll",function(){$(".animated-border").css({"background-color":"#00205C"}),1024<$(window).width()&&$(".page-wrap").css({"padding-top":"150px"})})),setTimeout(function(){$(".jdgm-carousel-item").each(function(){var t=$(this).find(".jdgm-carousel-item__reviewer-name").text().split(" ");$(this).find(".jdgm-carousel-item__review-body").append("<h4 style=\"font-family: 'founders-grotesk-web-medium';\n        font-weight: 400;\n        margin-top: 20px;\n        text-transform: uppercase;\n        font-size: 18px;\">".concat(t[1],"   ").concat(t[2].charAt(0),".</h4> "))})},1e3),(T=$("#klaviyo-btn")).length&&$(T).on("click",function(){var t=$("#klaviyo-email").val();$.ajax({async:!0,crossDomain:!0,url:"https://manage.kmail-lists.com/ajax/subscriptions/subscribe",method:"POST",headers:{"content-type":"application/x-www-form-urlencoded","cache-control":"no-cache"},data:{g:"SWwkF2",email:t}}).done(function(t){$("#klaviyo-email").val(""),$("#klaviyo-form").append('<p style="margin-top:10px">Welcome! Your inbox just went up a level.</p>')})}),function(){var t,e,a,n=this,s=$(".js-num-trees"),i=$(".js-num-carbon"),o=$(".js-num-duration");s.length&&(a=new Date,e=new Date("February 15, 2021 00:00:00"),t=e,a=12*((e=a).getFullYear()-t.getFullYear()),a-=t.getMonth(),a+=e.getMonth(),o.text("".concat(a<=0?0:a," MONTHS")),o.attr("data-count","".concat(a<=0?0:a)),fetch("https://public.ecologi.com/users/klir/impact").then(function(t){return t.json()}).then(function(t){s.text("".concat(t.trees)),s.attr("data-count","".concat(t.trees)),i.text("".concat(t.carbonOffset,"T")),i.attr("data-count","".concat(t.carbonOffset));var n=!1,o=$(".sustainability-logos__grid-item h4");$(window).scroll(function(){var t,e,a;t=$(window).scrollTop(),e=t+$(window).height(),(a=$(o).offset().top)<=e&&t<=a&&!n&&(n=!0,$(o).each(function(){var t=$(this),e=($(this).text().replace(",",""),$(this).attr("data-count"));$({countNum:1}).animate({countNum:e},{duration:2e3,easing:"linear",step:function(){t.hasClass("js-num-carbon")?t.text("".concat(Math.floor(this.countNum),"T")):t.hasClass("js-num-duration")?t.text("".concat(Math.floor(this.countNum)," MONTHS")):t.text("".concat(Math.floor(this.countNum)))},complete:function(){t.hasClass("js-num-carbon")?t.text("".concat(Math.floor(this.countNum),"T")):t.hasClass("js-num-duration")?t.text("".concat(Math.floor(this.countNum)," MONTHS")):t.text("".concat(Math.floor(this.countNum)))}})}))})}).catch(function(){alert("".concat(n.state.searchLocation," is not a valid place"))}))}(),$(".js-create-account").on("click",function(){window.scrollTo(0,0),$(".u-column1").hide(),$(".u-column2").show()}),console.log("test"),q=null,$(".js-qty-btn-minus").on("click",function(){null!==q&&window.clearTimeout(q);var t=$(this).parent().find(".js-qty-show").text();t<=1?t=1:t--,$(this).parent().find(".js-qty-show").text(t);var e=$(".js-home-url").attr("data-home"),a=$(this).parent().attr("data-id"),n="true"==$(this).parent().attr("data-sub")?(console.log("sub product!"),e+"?add-to-cart="+a+"&convert_to_sub_"+a+"=1_month&quantity="+t):e+"?add-to-cart="+a+"&quantity="+t,o=$(this).parent().parent().find(".remove-item").attr("href");q=window.setTimeout(function(){G(o,n)},500)}),$(".js-qty-btn-plus").on("click",function(){null!==q&&window.clearTimeout(q);var t=$(this).parent().find(".js-qty-show").text();t++,$(this).parent().find(".js-qty-show").text(t);var e=$(".js-home-url").attr("data-home"),a=$(this).parent().attr("data-id"),n="true"==$(this).parent().attr("data-sub")?(console.log("sub product!"),e+"?add-to-cart="+a+"&convert_to_sub_"+a+"=1_month&quantity="+t):e+"?add-to-cart="+a+"&quantity="+t,o=$(this).parent().parent().find(".remove-item").attr("href");q=window.setTimeout(function(){G(o,n)},500)}),E=null,$(".js-qty-btn-minus-duo").on("click",function(){null!==E&&window.clearTimeout(E);var t=$(this).parent().find(".js-qty-show").text();t<=1?t=1:t--,$(this).parent().find(".js-qty-show").text(t);var e,a=$(this).parent().parent().find(".remove-item").attr("href"),n=$(".js-home-url").attr("data-home"),o=$(this).parent().attr("data-id"),s="true"==$(this).parent().attr("data-sub")?(console.log("sub product!"),e=n+"?add-to-cart="+o+"&convert_to_sub_"+o+"=1_month&quantity="+t,$(".js-home-url").attr("data-home")+"/?add-to-cart=338&convert_to_sub_338=1_month&quantity="+t):(e=n+"?add-to-cart="+o+"&quantity="+t,$(".js-home-url").attr("data-home")+"/?add-to-cart=338&quantity="+t);E=window.setTimeout(function(){M(a,e,s)},500)}),$(".js-qty-btn-plus-duo").on("click",function(){null!==E&&window.clearTimeout(E);var t=$(this).parent().find(".js-qty-show").text();t++,$(this).parent().find(".js-qty-show").text(t);var e,a=$(this).parent().parent().find(".remove-item").attr("href"),n=$(".js-home-url").attr("data-home"),o=$(this).parent().attr("data-id"),s="true"==$(this).parent().attr("data-sub")?(console.log("sub product!"),e=n+"?add-to-cart="+o+"&convert_to_sub_"+o+"=1_month&quantity="+t,$(".js-home-url").attr("data-home")+"/?add-to-cart=338&convert_to_sub_338=1_month&quantity="+t):(e=n+"?add-to-cart="+o+"&quantity="+t,$(".js-home-url").attr("data-home")+"/?add-to-cart=338&quantity="+t);E=window.setTimeout(function(){M(a,e,s)},500)}),D(),$.ajax({async:!0,crossDomain:!0,url:"https://public.ecologi.com/impact/trees?number=5",method:"POST",headers:{authorization:"Bearer"},processData:!1,data:'{"number":1,"name":"Elijah Wood","test":true}'}).done(function(t){console.log(t)}),o&&$(".js-visibility").each(function(t,e){a.observe(e)}),$(window).on("scroll",function(){}),$(window).on("load",function(){}),$(window).on("resize",s),$(window).on("resize",function(){S()})});